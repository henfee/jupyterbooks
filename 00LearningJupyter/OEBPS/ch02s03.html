<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Python pandas in Jupyter</title><link rel="stylesheet" href="epub.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="section" title="Python pandas in Jupyter"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec18"/>Python pandas in Jupyter</h1></div></div></div><p>One of the most widely used features of Python is pandas. It is a third-party library of data analysis packages that can be used freely. In this example, we will develop a Python script that uses pandas to see if there is any effect to using it in Jupyter.</p><p>I am using the Titanic dataset from <a class="ulink" href="http://www.kaggle.com/c/titanic-gettingStarted/download/train.csv">http://www.kaggle.com/c/titanic-gettingStarted/download/train.csv</a>. I am sure the same data is available from a variety of sources.</p><p>Here is the Python script that we want to run in Jupyter:</p><pre class="programlisting">
<span class="strong"><strong>from pandas import *</strong></span>
<span class="strong"><strong>training_set = read_csv('train.csv')</strong></span>
<span class="strong"><strong>training_set.head()</strong></span>
<span class="strong"><strong>male = training_set[training_set.sex == 'male']</strong></span>
<span class="strong"><strong>female = training_set[training_set.sex =='female']</strong></span>
<span class="strong"><strong>womens_survival_rate = float(sum(female.survived))/len(female)</strong></span>
<span class="strong"><strong>mens_survival_rate = float(sum(male.survived))/len(male)</strong></span>
</pre><p>The result is we calculate the survival rates of the Titanic's passengers based on their sex.</p><p>We create a new notebook, enter the script into appropriate cells, include adding displays of calculated data at each point, and produce our results.</p><p>Here is our notebook laid out; we added displays of calculated data in each cell, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_02_010.jpg" alt="Python pandas in Jupyter"/></div><p>
</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note11"/>Note</h3><p>When I ran this script, I had two problems.</p><p>On Windows, it is common to use a&#xA0;backslash (\) to separate parts of a filename. However, this coding uses the backslash as a special character.</p><p>So, I had to change over to use forward slash (/) in my CSV file path. I originally had a full path to the CSV in the preceding code example.</p><p>The dataset column names are taken directly from the file and are case sensitive. In this case, I was originally using the <code class="literal">sex</code> field in my script, but in the CSV file, the column is named <code class="literal">Sex</code>. Similarly, I had to change <code class="literal">survived</code> to <code class="literal">Survived</code>.</p></div></div><p>The final script and results look like the following screenshot when we run it:</p><p>
</p><div class="mediaobject"><img src="graphics/image_02_011.jpg" alt="Python pandas in Jupyter"/></div><p>
</p><p>I have used the <code class="literal">head()</code> function to display the first few lines of the dataset. It is interesting to see the amount of detail that is available for all of the passengers.</p><p>If you scroll down, you see the results, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_02_012.jpg" alt="Python pandas in Jupyter"/></div><p>
</p><p>We see 74% of the survivors were women versus just 19% men. I would like to think chivalry is not dead.</p><p>It's curious the results do not add up to 100%. However, like every other dataset I have seen, there is missing and/or inaccurate data present.</p></div></body></html>
